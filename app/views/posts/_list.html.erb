<% is_question = post.post_type_id == Question.post_type_id %>
<div class="question">
  <div class="question__score">
    <span class="score"><%= post.score %></span>
    <span class="descriptor">score</span>
  </div>
  <div class="question__info">
    <%= link_to is_question ? post.title : post.parent.title, question_path(is_question ? post : post.parent),
                class: 'question__title' %>
    <% if is_question %>
      <div class="question__tags">
        <% post.tags_cache.each do |tag| %>
          <%= link_to tag, questions_tagged_path(tag), class: 'tag' %>
        <% end %>
      </div>
    <% end %>
    <span class="question__details">
      <% if is_question %>
        <%= pluralize(post.answer_count, 'answer') %> &middot;
      <% end %>
      active <%= time_ago_in_words(post.last_activity) %> ago &middot;
      by <%= link_to post.user.username, user_path(post.user) %>
    </span>
  </div>
</div>
